var inputs = new Object; inputs.init = function () { inputs.pressing = new Object, inputs.pressing.up = !1, inputs.pressing.down = !1, inputs.pressing.left = !1, inputs.pressing.right = !1, inputs.pressing.action = !1, inputs.pressing.mouse = !1, inputs.locked = new Object, inputs.locked.up = !1, inputs.locked.down = !1, inputs.locked.left = !1, inputs.locked.right = !1, inputs.locked.action = !1, inputs.locked.mouse = !1, inputs.mouse_pos = { x: 0, y: 0 }, inputs.mouse_throttle = !1, inputs.fullscreen_area = { x: 352, y: 0, w: 48, h: 48 }, inputs.KEYCODE_UP = 38, inputs.KEYCODE_DOWN = 40, inputs.KEYCODE_LEFT = 37, inputs.KEYCODE_RIGHT = 39, inputs.KEYCODE_ACTION = 32, inputs.ALTCODE_UP = 87, inputs.ALTCODE_DOWN = 83, inputs.ALTCODE_LEFT = 65, inputs.ALTCODE_RIGHT = 68, inputs.ALTCODE_ACTION = 13 }, inputs.handleKeyDown = function (n) { n.preventDefault(), n.keyCode == inputs.KEYCODE_UP || n.keyCode == inputs.ALTCODE_UP ? inputs.pressing.up = !0 : n.keyCode == inputs.KEYCODE_DOWN || n.keyCode == inputs.ALTCODE_DOWN ? inputs.pressing.down = !0 : n.keyCode == inputs.KEYCODE_LEFT || n.keyCode == inputs.ALTCODE_LEFT ? inputs.pressing.left = !0 : n.keyCode == inputs.KEYCODE_RIGHT || n.keyCode == inputs.ALTCODE_RIGHT ? inputs.pressing.right = !0 : n.keyCode != inputs.KEYCODE_ACTION && n.keyCode != inputs.ALTCODE_ACTION || (inputs.pressing.action = !0) }, inputs.handleKeyUp = function (n) { n.keyCode == inputs.KEYCODE_UP || n.keyCode == inputs.ALTCODE_UP ? (inputs.pressing.up = !1, inputs.locked.up = !1) : n.keyCode == inputs.KEYCODE_DOWN || n.keyCode == inputs.ALTCODE_DOWN ? (inputs.pressing.down = !1, inputs.locked.down = !1) : n.keyCode == inputs.KEYCODE_LEFT || n.keyCode == inputs.ALTCODE_LEFT ? (inputs.pressing.left = !1, inputs.locked.left = !1) : n.keyCode == inputs.KEYCODE_RIGHT || n.keyCode == inputs.ALTCODE_RIGHT ? (inputs.pressing.right = !1, inputs.locked.right = !1) : n.keyCode != inputs.KEYCODE_ACTION && n.keyCode != inputs.ALTCODE_ACTION || (inputs.pressing.action = !1, inputs.locked.action = !1) }, inputs.handleMouseDown = function (n) { n.preventDefault(), inputs.pressing.mouse = !0, inputs.mouse_pos = inputs.clickCoord(n) }, inputs.handleMouseMove = function (n) { inputs.mouse_throttle || (inputs.mouse_pos = inputs.clickCoord(n)) }, inputs.handleMouseUp = function (n) { n.preventDefault(), inputs.pressing.mouse = !1, inputs.locked.mouse = !1 }, inputs.clickCoord = function (n) { var e, t; return n.pageX || n.pageY ? (e = n.pageX, t = n.pageY) : (e = n.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, t = n.clientY + document.body.scrollTop + document.documentElement.scrollTop), e -= game_main.canv.offsetLeft, t -= game_main.canv.offsetTop, e /= game_main.SCALE, t /= game_main.SCALE, inputs.mouse_throttle = !0, { x: e, y: t } }, inputs.handleTouchStart = function (n) { n.preventDefault(), inputs.pressing.mouse = !0, inputs.mouse_pos = inputs.touchCoord(n) }, inputs.handleTouchMove = function (n) { inputs.mouse_throttle || (inputs.mouse_pos = inputs.touchCoord(n)) }, inputs.handleTouchEnd = function (n) { n.preventDefault(), inputs.pressing.mouse = !1, inputs.locked.mouse = !1 }, inputs.touchCoord = function (n) { var e = n.touches[0].pageX, t = n.touches[0].pageY; return e -= game_main.canv.offsetLeft, t -= game_main.canv.offsetTop, e /= game_main.SCALE, t /= game_main.SCALE, inputs.mouse_throttle = !0, { x: e, y: t } };