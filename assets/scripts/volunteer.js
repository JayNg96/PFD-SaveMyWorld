var loginStatus = sessionStorage.getItem("loginStatus"); function signUp(e) { if ("loggedIn" == loginStatus) { let t = getEventData(); t.push(e), console.log(t), saveEvent(t), updateButtons() } else alert("Please login to sign up for an event") } function saveEvent(e) { sessionStorage.setItem("event", JSON.stringify(e)); let t = sessionStorage.getItem("userId"), n = { username: sessionStorage.getItem("username"), password: sessionStorage.getItem("password"), cart: sessionStorage.getItem("cart"), event: JSON.stringify(e) }; console.log(t); var s = { async: !0, crossDomain: !0, url: `https://savetheearth-c589.restdb.io/rest/registered-accounts/${t}`, method: "PUT", headers: { "content-type": "application/json", "x-apikey": APIKEY2, "cache-control": "no-cache" }, processData: !1, data: JSON.stringify(n) }; $.ajax(s).done(function (e) { console.log(e) }) } function getEventData() { return "loggedIn" == loginStatus && 0 != sessionStorage.getItem("event").length ? JSON.parse(sessionStorage.getItem("event")) : [] } function updateButtons() { let e = getEventData(); console.log(e.length), e.forEach(e => { let t = String(e); document.getElementById(t).setAttribute("onClick", "displayAlert();"), document.getElementById(t).innerHTML = "done" }) } function displayAlert() { alert("You have already signed up for this event") } updateButtons();